
CREATE TABLE country (
    country_id INT PRIMARY KEY,
    name_en VARCHAR(50) NOT NULL
);

CREATE TABLE city (
    city_id INT PRIMARY KEY,
    city_name VARCHAR(50) NOT NULL,
    country_id INT,
    FOREIGN KEY (country_id) REFERENCES country(country_id)
);


CREATE TABLE customer (
    customer_id INT PRIMARY KEY,
    customer_name VARCHAR(50) NOT NULL,
    city_id INT,
    FOREIGN KEY (city_id) REFERENCES city(city_id)
);

INSERT INTO country (country_id, name_en) VALUES
(1, 'Germany'),
(2, 'Croatia'),
(3, 'USA'),
(4, 'Spain'),
(5, 'Russia');

INSERT INTO city (city_id, city_name, country_id) VALUES
(1, 'Berlin', 1),
(2, 'Zagreb', 2),
(3, 'New York', 3);

INSERT INTO customer (customer_id, customer_name, city_id) VALUES
(1, 'John Doe', 1),
(2, 'Jane Smith', 1),
(3, 'Ivan Horvat', 2),
(4, 'Mike Brown', 3);

--Task 1)
SELECT
    c.name_en AS country_name,
    ci.city_name,
    cu.customer_name
FROM country c
LEFT JOIN city ci
    ON c.country_id = ci.country_id
LEFT JOIN customer cu
    ON ci.city_id = cu.city_id
ORDER BY c.name_en;

--Task 2)
SELECT
    c.name_en AS country_name,
    ci.city_name,
    cu.customer_name
FROM country c
INNER JOIN city ci
    ON c.country_id = ci.country_id
LEFT JOIN customer cu
    ON ci.city_id = cu.city_id
ORDER BY c.name_en, ci.city_name;



